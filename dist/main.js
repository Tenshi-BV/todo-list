(()=>{"use strict";const e=(()=>{class e{constructor(e){this.name=e,this.todosArray=[]}}class t{constructor(e,t,o,n,d){this.name=e,this.description=t,this.dueDate=o,this.priority=n,this.creaton=new Date,this.project=d,this.completion=0}}const o=[],n={createProject:()=>{let t=prompt("New project name:");if(""==t)return;const n=new e(t);o.push(n)},deleteProject:e=>{0!=e&&o.splice(e,1)},renameProject:e=>{0!=e&&(o[e].name=prompt("New name:"))}},d=new e("Default project");return o.push(d),{projectArray:o,projectMethods:n,todosMethods:{createTodo:e=>{e=e||d;let o=prompt("New todo name:"),n=prompt("Describe todo:"),r=prompt("Set due date;"),i=prompt("Set priority:");if(""==o||""==n||""==r||""==i)return void alert("All fields required.");if(null==o||null==n||null==r||null==i)return void alert("All fields required.");const c=new t(o,n,r,i,e);e.todosArray.push(c)},deleteTodo:(e,t)=>{e.todosArray.splice(t,1)},renameTodo:e=>{e.name=prompt("New todo name:")},reDescribeTodo:e=>{e.description=prompt("Describe todo:")},reDateTodo:e=>{e.dueDate=prompt("Set due date;")},rePrioritiseTodo:e=>{e.priority=prompt("Set priority:")},setCompletionTodo:e=>{0==e.completion?e.completion=1:e.completion=0}}}})();e.todosMethods.createTodo(),(()=>{const e=document.querySelector("div#content");e.innerHTML="";const t=document.createElement("div");t.setAttribute("id","headerContainer"),e.appendChild(t);const o=document.createElement("h1");o.setAttribute("id","headerTitle"),o.textContent="Todo list",t.appendChild(o);const n=document.createElement("div");n.setAttribute("id","headerLine"),t.appendChild(n)})(),((e,t)=>{e=e||0,t=t||0;const o=document.querySelector("div#content"),n=document.createElement("div");if(n.setAttribute("id","directoryContainer"),o.appendChild(n),0==e&&0==t){const e=document.createElement("p");e.setAttribute("id","directoryParagraph"),e.textContent="Projects",n.appendChild(e)}else if(0!=e){const t=document.createElement("p");t.setAttribute("id","directoryParagraph"),t.textContent=`Projects > ${e.name}`,n.appendChild(t)}else if(0!=t){const e=document.createElement("p");e.setAttribute("id","directoryParagraph"),e.textContent=`Projects > ${t.project.name} > ${t.name}`,n.appendChild(e)}const d=document.createElement("div");d.setAttribute("id","directoryLine"),n.appendChild(d)})(e.projectArray[0],0),(()=>{const e=document.querySelector("div#content"),t=document.createElement("div");t.setAttribute("id","bodyContainer"),e.appendChild(t)})(),((e,t)=>{let o;const n=document.querySelector("div#bodyContainer"),d=document.createElement("div");d.setAttribute("id","sidebarContainer"),n.appendChild(d);const r=document.createElement("button");r.classList.add("sidebar"),r.textContent="create todo",r.addEventListener("click",(()=>{e.createTodo(t),u()})),d.appendChild(r);const i=document.createElement("button");i.classList.add("sidebar"),i.textContent="delete todo",i.addEventListener("click",(()=>{e.deleteTodo(t,o),u(1),o=99})),d.appendChild(i);const c=document.createElement("button");c.classList.add("sidebar"),c.textContent="rename todo",c.addEventListener("click",(()=>{e.renameTodo(t.todosArray[o]),u()})),d.appendChild(c);const s=document.createElement("button");s.classList.add("sidebar"),s.textContent="change prioritization",s.addEventListener("click",(()=>{e.rePrioritiseTodo(t.todosArray[o]),u()})),d.appendChild(s);const a=document.createElement("button");a.classList.add("sidebar"),a.textContent="change completion status",a.addEventListener("click",(()=>{e.setCompletionTodo(t.todosArray[o]),u()})),d.appendChild(a);const l=document.createElement("div");l.setAttribute("id","sidebarLine"),n.appendChild(l);const p=document.createElement("div");p.setAttribute("id","todosContainer"),n.appendChild(p);const m=e=>1==e?"finished":"unfinished";for(let e=0;e<t.todosArray.length;e++){const o=document.createElement("div");o.classList.add("todoContainer");let n=t.todosArray[e],d=todosArray.indexOf(n);o.innerHTML=`<p>${n.name}</p><p>${n.dueDate}</p><p>${n.priority}</p><p>${m(n.completion)}</p>`,o.addEventListener("click",(()=>{h(d),o.classList.add("selected")})),p.appendChild(o)}const u=e=>{e=e||0,p.innerHTML="";for(let n=0;n<t.todosArray.length;n++){const d=document.createElement("div");d.classList.add("todoContainer");let r=t.todosArray[n],i=t.todosArray.indexOf(r);d.innerHTML=`<p>${r.name}</p><p>${r.dueDate}</p><p>${r.priority}</p><p>${m(r.completion)}</p>`,n==o&&0==e&&d.classList.add("selected"),d.addEventListener("click",(()=>{h(i),d.classList.add("selected")})),p.appendChild(d)}},h=e=>{o=e,document.querySelectorAll("#todosContainer>div").forEach((e=>{e.classList.remove("selected")}))}})(e.todosMethods,e.projectArray[0])})();